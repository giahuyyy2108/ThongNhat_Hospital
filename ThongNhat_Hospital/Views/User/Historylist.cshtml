@using System.Globalization;

@{
    ViewData["Title"] = "Lịch sử ";
    Layout = "~/Views/Shared/User/_LayoutUser.cshtml";
}
<style>
    h3 {
        font-size: 30px;
        font-weight: bold;
        color: #0190df;
        padding-bottom: 20px;
        border-bottom: 2px solid #1261b0;
        margin-bottom: 10px;
    }

    thead {
        background-color: #1261b0;
        color: #fff;
    }
</style>
<h3>Lịch sử giao nhận hàng</h3>

<link href="https://cdn.datatables.net/v/dt/dt-1.13.4/datatables.min.css" rel="stylesheet" />

<link href="https://cdn.datatables.net/rowreorder/1.3.3/css/rowReorder.dataTables.min.css" rel="stylesheet" />

<link href="https://cdn.datatables.net/responsive/2.4.1/css/responsive.dataTables.min.css" rel="stylesheet" />




<table class="table table-bordered table-striped" id="table1" style="max-width:100%;height:auto;">
    <thead>
        <tr>
            <th>
                STT
            </th>
            <th>
                Mã phiếu
            </th>
            <th>
                Hình thức
            </th>
            <th>
                Trạng thái
            </th>

            <th>
                Cập nhật
            </th>
            <th>
                Xem Files đính kèm
            </th>
        </tr>
    </thead>
    
</table>


<script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

<script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js" defer="defer"></script>

<script src="https://cdn.datatables.net/rowreorder/1.3.3/js/dataTables.rowReorder.min.js" defer="defer"></script>

<script src="https://cdn.datatables.net/responsive/2.4.1/js/dataTables.responsive.min.js" defer="defer"></script>




<script type="text/javascript">

    $(document).ready(function () {
        $('#table1').DataTable({
            "ajax":{
                "url": "/User/getHistorylist",
                "type" : "GET",
                "datatype": "json"
            },
            "columns": [
                { "data": "stt" },
                { "data": "id_phieu" ,"render": function(data) {
                        return '<a href = "/User/Details/'+data+'" >'+data+'</a>'
                }},
                { "data": "hinhthuc" },
                { "data": "trangthai" },
                { "data": "capnhat" },
                { "data": "id_CT" ,"render": function(data) {
                        return '<a class="btn btn-primary" href = "/User/FileDetail/'+data+'" >Xem</a>'
                }}
            ],
            rowReorder: {
            selector: 'td:nth-child(3)'
            },
            responsive: true,
            bPaginate: true
        })
        setInterval(function () {
            $('#table1').DataTable().ajax.reload(null, false);
        }, 5000);
    });

</script>

